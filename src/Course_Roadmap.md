# 西班牙语课程优化路线图 (Spanish Course Optimization Roadmap)

---

## 开发日志 (Changelog)

**2025-10-13:**
- **UI/UX 体验优化**:
    - 实现顶部固定导航栏，方便在长页面中随时翻页。
    - 重构页面布局为顶部对齐，解决了内容与导航栏的重叠问题及`index`页的空旷感，统一了全站体验。
    - 为移动端设计了可折叠的计时器，默认收起以节省屏幕空间，点击时间可展开。
    - 将翻页按钮的文字替换为 `«` 和 `»` 符号，使界面更简洁。

**2025-10-11:**
- **内容与功能精修**：
    - 恢复了 `lesson-01.html` 的所有原始内容细节，并确保了所有功能（分页、发音、闪卡、测验、计时器等）的完整集成。
    - 修正了“你的职业身份”等页面的内容遗漏。
    - 扩充了“基础生活”、“职业关联”、“高频形容词”等词汇表。
    - 增加了闪卡数量，扩充了测验题目至12题，并修正了题干。
    - 优化了计时器逻辑，调整了颜色阈值（0-60绿，60-100橙，100+红）。
    - 修复了闪卡翻转尺寸和英中分行显示问题。
    - 优化了分页按钮和下拉菜单的样式。
    - 最终版本已部署至GitHub Pages。

**2025-10-11:**
- **确立新方向：课程体系重构**。我们决定将现有的单节课内容，根据成熟的语言教学框架（如CEFR A1标准），拆分为一个循序渐进的、更易于学习的迷你课程系列。

---

## 待办优化列表 (Optimization Backlog)

### 方案：语音体验升级 (专业TTS服务集成)
- **目标**: 将课程网站的发音功能，从不稳定的浏览器内置语音升级为由Azure提供的、高质量、发音统一的专业神经网络语音服务。
- **最终架构**: 采用前后端分离方案。前端静态文件托管于**Azure静态Web应用**的全球CDN。后端API函数同样由静态Web应用承载，通过直接调用**语音服务REST API**的方式提供服务，以确保最佳的兼容性和稳定性。
- **成本**: 利用Azure的永久免费套餐，本项目成本为零。
- **状态**: ✅ **已完成 (Completed)**。
- **历程总结**:
    - 最初计划使用`microsoft-cognitiveservices-speech-sdk`，但在部署过程中遇到了复杂的兼容性问题。
    - **调试过程**: 经历了多次部署失败，从“找不到构建脚本”到“找不到应用产物”，再到API的`404 (Not Found)`和`500 (Internal Server Error)`错误。
    - **问题根源**: 经过反复排查和验证，最终确认核心障碍是`speech-sdk`包的原生依赖与Azure静态Web应用精简的函数运行环境不兼容，导致函数在加载时直接崩溃。
    - **最终方案**: 放弃SDK，改为通过Node.js内置的`https`模块直接调用Azure语音服务的**REST API**，彻底绕开了环境兼容性问题，最终成功实现功能。
    - **核心教训**: 在轻量级Serverless环境中，应优先选择无依赖的REST API方案，而不是可能存在兼容性问题的复杂SDK。

### UI/UX 体验优化 (UI/UX Enhancements)
- [ ] **手势滑动翻页 (Swipe Gesture Navigation)**: 在移动端增加左右滑动切换上一页/下一页的功能。


### 1. 丰富互动练习 (Richer Interactive Exercises)
- [x] **发音辅助 (Audio Clips)** - 已完成
- [x] **单词闪卡 (Flashcards)** - 已完成
- [x] **小测验 (Quiz)** - 已完成

### 2. 构建实用语法 (Practical Grammar Building Blocks)
- [ ] **引入核心动词 `Estar`**: 讲解与 `Ser` 的区别。
- [ ] **引入核心动词 `Tener`**: 讲解“拥有”的概念。
- [ ] **引入规则动词**: 讲解 `-ar` 结尾动词的基础变位。

### 3. 融入文化与情境 (Integrating Culture and Context)
- [ ] **文化小贴士**: 介绍西班牙职场文化。
- [ ] **情景对话**: 模拟真实场景。
- [ ] **称谓的艺术**: 讲解 `Tú` (非正式你) vs. `Usted` (正式您) 的用法。

### 4. 深度结合专业领域 (Connecting with the Professional Field)
- [ ] **专业动词**: `conectar`, `instalar`, `reparar`。
- [ ] **真实材料解读**: 选取一段来自 `Iberdrola` 等公司官网的真实句子进行精讲。